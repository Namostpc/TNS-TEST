<h2>{{ isEditMode ? 'Edit User' : 'Create New User' }}</h2>

<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="firstname">First Name:</label>
    <input type="text" id="firstname" formControlName="firstname">
    <div *ngIf="userForm.controls['firstname'].invalid && userForm.controls['firstname'].touched" class="error">First name is required.</div>
  </div>
  <div>
    <label for="lastname">Last Name:</label>
    <input type="text" id="lastname" formControlName="lastname">
    <div *ngIf="userForm.controls['lastname'].invalid && userForm.controls['lastname'].touched" class="error">Last name is required.</div>
  </div>
  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" formControlName="email">
    <div *ngIf="userForm.controls['email'].invalid && userForm.controls['email'].touched" class="error">Enter a valid email.</div>
  </div>
  <div>
    <label for="department">Department Name:</label>
    <input type="text" id="department" formControlName="department">
    <div *ngIf="userForm.controls['department'].invalid && userForm.controls['department'].touched" class="error">Department ID is required.</div>
  </div>
  <button type="submit" [disabled]="userForm.invalid">{{ isEditMode ? 'Update User' : 'Create User' }}</button>
  <button type="button" (click)="onCancel()">Cancel</button>
</form>